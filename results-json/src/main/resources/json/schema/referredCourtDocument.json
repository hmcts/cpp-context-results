{
	"$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://justice.gov.uk/core/courts/referredCourtDocument.json",
	"type": "object",
	"properties": {
		"courtDocumentId": {
			"description": "The technical identifier of a document",
			"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
		},
		"documentCategory": {
			"type": "object",
			"properties":
			{
				"caseDocument": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"prosecutionCaseId": {
							"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
						}
					},
					"required": [
						"prosecutionCaseId"
					]
				},


				"applicationDocument": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"applicationId": {
							"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
						},
						"prosecutionCaseId": {
							"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
						},
						"defendants": {
							"type": "array",
							"minItems": 1,
							"items": {
								"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
							}
						}
					},
					"required": [
						"applicationId"
					]
				},

				"defendantDocument": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"prosecutionCaseId": {
							"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
						},
						"defendants": {
							"type": "array",
							"minItems": 1,
							"items": {
								"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
							}
						}
					},
					"required": [
						"defendants",
						"prosecutionCaseId"
					]
				},
				"nowDocument": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"defendantId": {
							"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
						},
						"orderHearingId": {
							"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
						},
						"prosecutionCases": {
							"type": "array",
							"minItems": 1,
							"items": {
								"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
							}
						}
					},
					"required": [
						"defendantId",
						"orderHearingId",
						"prosecutionCases"
					]
				}
			},
			"anyOf": [
				{
					"required": [
						"caseDocument"
					]
				},
				{
					"required": [
						"applicationDocument"
					]
				},
				{
					"required": [
						"defendantDocument"
					]
				},
				{
					"required": [
						"nowDocument"
					]
				}
			]
		},
		"name": {
			"type": "string"
		},
		"documentTypeId": {
			"$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/uuid"
		},
		"documentTypeDescription": {
			"type": "string"
		},
		"mimeType": {
			"type": "string"
		},
		"isRemoved": {
			"type": "boolean"
		},
		"materials": {
			"type": "array",
			"minItems": 1,
			"items": {
				"$ref": "http://justice.gov.uk/core/courts/material.json"
			}
		}
	},
	"required": [
		"courtDocumentId",
		"documentCategory",
		"name",
		"documentTypeId",
		"materials"
	],
	"additionalProperties": false
}
